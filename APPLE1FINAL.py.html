#!/usr/bin/env python
# coding: utf-8

# ## Problem Set 1: Visualizing stock market performance using Python libraries

# (Due: 9/4/2019)
# 
# In this exercise you will demonstrate how to:
# 1. Import and use Python libraries
# 2. Load static data files
# 3. Use object attributes to display information about your data
# 4. Use object methods to manipulate your data
# 5. Perform a correlation between two datasets
# 6. Graph data using the matplotlib library
# 7. Your assignement
# 
# You'll also gain experience using documentation, selecting data, working with variables, and uploading to GitHub.

# #### 1. Import python libraries

# In[4]:


import numpy as np 
import pandas as pd
import matplotlib.pyplot as plt 


# #### 2. Load CSV file 
# Refer to the pandas documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/io.html

# In[7]:


tsla = pd.read_csv("TSLA.csv")


# Type the variable name and see the data.

# In[4]:


tsla


# Notice that the index starts with "0".

# #### 3. Show information about the dataset using pandas DataFrame attributes.
# Refer to the pandas documentation: https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html

# In[5]:


tsla.shape


# In[6]:


tsla.T


# In[7]:


tsla


# In[11]:


tsla.columns


# In[12]:


tsla.dtypes


# In[15]:


tsla.empty


# #### 4. Use pandas DataFrame methods to show information and manipulate the dataset.

# Show descriptive statistics:

# In[19]:


tsla.describe()


# Show first five rows:

# In[18]:


tsla.head()


# Show correlations among features:

# In[21]:


tsla.corr()


# #### 5. Perform a correlation between two different datasets. We'll analyze Tesla's closing stock price and Ford's closing stock price.

# Load Ford's stock data:

# In[22]:


ford = pd.read_csv("F.csv")


# Check to see it is loaded:

# In[24]:


ford.head()


# Check to see if the dimensions of each dataset are equal:

# In[26]:


tsla.shape


# In[27]:


ford.shape


# In[28]:


tsla.shape == ford.shape


# Now perform the correlation:

# In[31]:


tsla.corrwith(ford)


# #### 6. Now let's practice plotting the data.
# 
# We will be using the 'Close' column of the Tesla dataset to analyze trends in the price of the stock since 2010.
# 
# Within the plot, we will also compute moving averages to determine whether Tesla stock has experienced the "death cross", which is a technical indicator.
# 
# * The death cross is a technical chart pattern indicating the potential for a major selloff.
# * The death cross appears on a chart when a stockâ€™s short-term moving average crosses below its long-term moving average.
# * The death cross indicator has proven to be a reliable predictor of some of the most severe bear markets of the past century: 1929, 1938, 1974, and 2008
# * The death cross can be contrasted with a golden cross indicating a bull price movement.

# First, let's isolate the closing price data:

# In[4]:


tsla_close = tsla.loc[:,'Close']



# Check the data:

# In[39]:


tsla_close.head()


# Plot just the closing data using the matplotlib library which was imported in the first part:

# In[5]:


fig, ax = plt.subplots(figsize=(16,9))

ax.plot(tsla_close.index, tsla_close, label='TSLA')

ax.set_xlabel('Date')

ax.set_ylabel('Closing price ($)')
ax.legend()
plt.show()


# #### 7. Your assignment:
# * Import one Apple's stock price data. Make sure to download the CSV file into the correct directory.
# * Plot the same chart as we did for Tesla using Apple's data. 
# * Upload your jupyer notebook to GitHub and email me the link to your GitHub page.

# In[1]:


import numpy as np 
import pandas as pd
import matplotlib.pyplot as plt 


# In[2]:


apple = pd.read_csv("AAPL.csv")


# In[3]:


apple.shape


# In[4]:


apple.empty


# In[5]:


apple_close = apple.loc[:,'Close']


# In[6]:


fig, ax = plt.subplots(figsize=(16,9))

ax.plot(apple_close.index, apple_close, label='APPLE')
ax.plot(apple_close.index, apple_close. rolling(window=50).mean(), label='50-day moving average')
ax.plot(apple_close.index, apple_close.rolling(window=200).mean(), label='200-day moving average')

#I'm going to set the x label to Date
ax.set_xlabel('Date')
ax.set_ylabel('Closing price ($)')
ax.legend()
plt.show()


# In[ ]:




